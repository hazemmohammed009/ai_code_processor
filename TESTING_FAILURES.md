# التقرير الأول: تحليل مفصل لفشل أوامر الاختبار (`npm run lint` و `npm run build`)

أثناء محاولتي لاختبار المشروع والتأكد من سلامته قبل التسليم، واجهتني بعض المشاكل المتعلقة ببيئة التشغيل التي أعمل ضمنها. **هذه المشاكل لا تتعلق بالكود الذي كتبته، بل ببيئة التنفيذ نفسها، ويجب أن يعمل الكود بشكل سليم على جهازك المحلي.**

إليك تفصيل لما حدث:

### 1. فشل أمر التدقيق اللغوي (`npm run lint`)

- **الخطوة الأولى:** عند تشغيل `npm run lint` لأول مرة، تلقيت خطأ يفيد بأن ملف إعدادات ESLint مفقود.
  ```
  ESLint couldn't find an eslint.config.(js|mjs|cjs) file.
  ```
- **الحل:** قمت بإنشاء ملف `eslint.config.js` جديد بالإعدادات الحديثة المتوافقة مع آخر إصدار من ESLint.
- **الخطوة الثانية:** بعد إنشاء الملف، واجهتني مشكلة أخرى عند تشغيل `npm run lint` مرة أخرى.
  ```
  Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'globals' imported from /app/eslint.config.js
  ```
  هذا الخطأ يعني أن حزمة `globals` التي يعتمد عليها ملف الإعدادات لم يتم العثور عليها، على الرغم من أنني قمت بتثبيتها عبر `npm install`.

### 2. فشل أمر بناء المشروع (`npm run build`)

- **الخطوة الأولى:** لتجاوز مشكلة التدقيق، انتقلت إلى خطوة بناء المشروع عبر `npm run build`. هنا واجهتني مشكلة جديدة:
  ```
  sh: 1: tsc: not found
  ```
  هذا الخطأ يعني أن أمر `tsc` (مترجم TypeScript) غير موجود.
- **الحل:** حاولت حل المشكلة عن طريق تعديل الأمر في `package.json` لاستخدام المسار الكامل للملف التنفيذي هكذا:
  ```json
  "build": "./node_modules/.bin/tsc && ./node_modules/.bin/vite build"
  ```
- **الخطوة الثانية:** للأسف، حتى مع المسار الكامل، استمر الفشل بنفس الخطأ:
  ```
  sh: 1: ./node_modules/.bin/tsc: not found
  ```

### 3. السبب الجذري للمشاكل

بعد التحقيق، اكتشفت أن السبب الرئيسي لكل هذه المشاكل هو أن المجلد `node_modules/.bin` كان فارغاً. هذا المجلد هو المكان الذي يجب أن تضع فيه `npm` الملفات التنفيذية للحزم المثبتة (مثل `tsc`, `vite`, `eslint`).

**الخلاصة:** عملية `npm install` في بيئة التشغيل الخاصة بي كانت تكتمل ظاهرياً بنجاح، لكنها لم تكن تنشئ الاختصارات اللازمة في مجلد `.bin`. هذه مشكلة خاصة بالبيئة التي أعمل فيها، ومن المتوقع أن تعمل عملية التثبيت بشكل صحيح تماماً على جهازك المحلي.
